@use '../base/variables' as *; // Import global variables
@use '../base/mixin' as *;     // Import reusable mixins
@use "sass:map";               // Import map utilities for breakpoints

// =========================================================
// SECTION: Pricing
// Description: Layout and styling for pricing plans
// =========================================================
.pricing {
  &__container {}

  &__header {
    text-align: center;
    margin-bottom: 60px;
  }

  &__title {
    position: relative;

    &::after {
      position: absolute;
      content: "";
      top: 0;
      right: 0;
      width: 100%;
      height: 100%;
      background: url('../assets/img/bg-line/bg-line-md.png') no-repeat;
      background-position: 60% 105%;
      z-index: -1;
    }
  }

  &__cards {
    display: flex;
    gap: 32px;
    justify-content: center;
    align-items: center;
  }

  &__free {}
  &__personal {}
  &__organization {}
}

// =========================================================
// SLIDER CONTROLS (used on mobile view)
// =========================================================
.slider__controls.pricing__controls {
  display: none;
}

// =========================================================
// COMPONENT: Card
// Description: Common base styling for pricing plan cards
// =========================================================
.card {
  width: 472px;
  padding: 40px 44px;
  box-sizing: border-box;
  border: 1px solid $secondaryYellow;
  border-radius: 10px;

  &__title {
    @include size-weight($ParagraphP1RegularFontSize, 600);
    line-height: $ParagraphP1SemiBoldLineHeight;
    margin-bottom: 25px;
  }

  &__pricing {
    display: block;
    @include size-weight($H4FontSize, 700);
    margin-bottom: 25px;
  }

  &__description {
    @include size-weight($fontSize, 500);
    line-height: $ParagraphP2MediumLineHeight;
    margin-bottom: 25px;
  }

  &__list {}

  &__item {
    @include checked(url('../assets/icon/list/check.svg') center / contain no-repeat);
  }

  &__link {
    @include size-weight($H6FontSize, 400);
    line-height: $ParagraphP3RegularLineHeight;
    color: $secondaryBlack;
  }
}

// =========================================================
// STATE: Active Card
// Description: Styles for highlighted / featured pricing plan
// =========================================================
.active-checked {
  @include checked(url('../assets/icon/list/yellow-check.svg') center / contain no-repeat);
}

.active-pricing-card {
  width: 472px;
  padding: 80px 44px;
  background-color: $primaryDark;
  box-sizing: border-box;
  border-radius: 10px;
  border: none;
  color: $secondaryWhite;
}

.active-pricing-card-price {
  color: $secondaryYellow;
}

.active-pricing-card-link {
  @include size-weight($fontSize, 500);
  line-height: $ParagraphP2MediumLineHeight;
  color: $secondaryWhite;
}

// =========================================================
// MEDIA QUERIES
// =========================================================

// ---------- XL (≤ 1400px) ----------
@media (max-width: map.get($breakpoints, xl)) {
  .pricing {
    &__title {
      &::after {
        background-position: 65% 105%;
      }
    }
  }

  .card,
  .active-pricing-card {
    width: 437px;
  }
}

// ---------- LG (≤ 1152px) ----------
@media (max-width: map.get($breakpoints, lg)) {
  .pricing {
    &__title {
      &::after {
        background-position: 70% 105%;
      }
    }

    &__cards {
      overflow-x: auto;
      overflow: hidden;
      scroll-snap-type: x mandatory;
    }
  }

  .card,
  .active-pricing-card {
    flex: 0 0 341px;
    scroll-snap-align: center;
  }
}

// ---------- PLUS-MD (≤ 992px) ----------
@media (max-width: map.get($breakpoints, plus-md)) {
  .pricing {
    &__title {
      &::after {
        background-position: 75% 105%;
      }
    }
  }
}

// ---------- MD (≤ 768px) ----------
@media (max-width: map.get($breakpoints, md)) {
  .pricing {
    &__title {
      &::after {
        width: 60%;
        background-position: 30% 105%;
        background-size: 60%;
      }
    }

  }

  .card,
  .active-pricing-card {
    flex: 0 0 472px;
  }
}

// ---------- CUSTOM-SM (≤ 567px) ----------
@media (max-width: map.get($breakpoints, custom-sm)) {
  .pricing {
    &__title {
      &::after {
        background-position: 40% 105%;
        background-size: 70%;
      }
    }
  }

  .card,
  .active-pricing-card {
    flex: 0 0 289px;
  }
}

// ---------- SM (≤ 320px) ----------
@media (max-width: map.get($breakpoints, sm)) {
  .pricing {
    &__title {
      &::after {
        background-position: 70% 105%;
        background-size: 90%;
      }
    }

    &__cards {
      scroll-snap-type: none;
    }
  }

  .card,
  .active-pricing-card {
    flex: 0 0 289px;
    scroll-snap-align: none;
    padding: 20px;
  }

  // Show slider dots / controls only on mobile
  .slider__controls.pricing__controls {
    display: flex;
    margin-top: 60px;
    margin-bottom: 80px;
  }
}
